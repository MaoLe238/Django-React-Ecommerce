{"ast":null,"code":"import React,{useState,useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{Link,useLocation,useNavigate}from'react-router-dom';import{Form,Button,Row,Col,Table}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import{listUsers,deleteUser}from'../actions/userActions';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserListScreen(){const navigate=useNavigate();const dispatch=useDispatch();const userList=useSelector(state=>state.userList);const{loading,error,users}=userList;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;const userDelete=useSelector(state=>state.userDelete);const{success:successDelete}=userDelete;useEffect(()=>{if(userInfo&&userInfo.isAdmin){dispatch(listUsers());}else{navigate('/login');}},[dispatch,userInfo,navigate,successDelete]);const deleteHandler=id=>{if(window.confirm('Are you sure you want to delete this user?')){dispatch(deleteUser(id));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,reponsive:true,className:\"table-xl\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users&&users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/user/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:()=>deleteHandler(user._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id))})]})]});}export default UserListScreen;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}